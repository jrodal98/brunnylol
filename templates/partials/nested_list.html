<div class='nested-commands'>
{% if nested.is_empty() %}
<p><em>No sub-commands yet. Add one below.</em></p>
{% else %}
<table style='width: 100%; border-collapse: collapse;'>
<thead><tr><th>Alias</th><th>URL/Template</th><th>Description</th><th>Actions</th></tr></thead>
<tbody>
{% for n in nested %}
{% let url_display = n.command_template.as_ref().unwrap_or(&n.url) %}
<tr id="nested-{{ n.id }}">
    <td><strong>{{ n.alias }}</strong></td>
    <td>{{ url_display }}</td>
    <td>{{ n.description }}</td>
    <td>
        <button class="btn-danger"
                hx-delete="/manage/nested/{{ n.id }}"
                hx-target="#nested-{{ n.id }}"
                hx-swap="outerHTML"
                hx-confirm="Delete sub-command '{{ n.alias }}'?">
            Delete
        </button>
    </td>
</tr>
{% endfor %}
</tbody></table>
{% endif %}
</div>
