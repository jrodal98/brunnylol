{% extends "base.html" %}

{% block content %}
<div class="container-sm" style="margin-top: var(--space-12);">
    <h1>Register for Brunnylol</h1>

    {% if error != "" %}
    <div style="background-color: var(--color-error-bg); color: var(--color-error-text); padding: var(--space-3); margin-bottom: var(--space-5); border-radius: var(--radius-sm);">
        {{ error }}
    </div>
    {% endif %}

    {% if is_first_user %}
    <div style="background-color: var(--color-success-bg); color: var(--color-success-text); padding: var(--space-3); margin-bottom: var(--space-5); border-radius: var(--radius-sm);">
        You are the first user! You will be granted admin privileges.
    </div>
    {% endif %}

    <form method="post" action="/register" style="display: flex; flex-direction: column; gap: var(--space-4);">
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required
                   minlength="3" maxlength="30" pattern="[a-zA-Z0-9_-]+">
            <small>3-30 characters, letters, numbers, underscore, or hyphen</small>
        </div>

        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required
                   minlength="8" maxlength="128">
            <small>At least 8 characters</small>
        </div>

        <div class="form-group">
            <label for="confirm_password">Confirm Password:</label>
            <input type="password" id="confirm_password" name="confirm_password" required>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100%; padding: var(--space-3);">
            Register
        </button>
    </form>

    <p class="text-center" style="margin-top: var(--space-5);">
        Already have an account? <a href="/login" style="color: var(--gradient-start); font-weight: 600;">Login here</a>
    </p>
</div>

<script src="/static/js/register.js"></script>
{% endblock %}
